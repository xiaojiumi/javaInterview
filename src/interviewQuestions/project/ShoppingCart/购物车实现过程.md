# 购物车：

## 1.购物车跟用户的关系？

a）一个用户必须对应一个购物车【一个用户不管买多少商品，都会存在属于自己的购物车中。】
b）单点登录一定在购物车之前。

## 2.跟购物车有关的操作有哪些？

### a）添加购物车。

#### i.用户未登录状态

1.添加到什么地方？未登录将数据保存到什么地方？
a）Redis？---京东
b）Cookie？---自己开发项目的时候【如果浏览器禁用cookie】。

#### ii.用户登录状态。

1.Redis 缓存中【读写速度快】。

a) Hash: hset(key, field, value).
i. Key: user: userld: cart
 ii. Hset(key. skuld, value)；
2.存在数据库中【oracle，mysql】

### b）展示购物车

#### i.未登录状态展示

1.直接从cookie中取得数据展示即可。

#### ii.登录状态

1.用户一旦登录：必须显示数据库【redis】+cookie中的购物车的数据
a）Cookie 中有三条记录
b）Redis中有五条记录
）真正展示的时候应该是八条记录